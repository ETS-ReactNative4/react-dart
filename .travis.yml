language: dart

dart:
  - '2.4.1' # TODO: Remove this and bump the lower SDK bound to 2.6.0 once released.
  - stable
  - dev

before_script:
  - dartanalyzer .
  - dartfmt --line-length=120 --dry-run --set-exit-if-changed .
  - pub run dependency_validator -i build_runner,build_test,build_web_compilers

script:
  - pub run build_runner test --release -- -p chrome
  - pub run build_runner test -- -p chrome

cache:
  directories:
  - $HOME/.pub-cache
  - $HOME/.dart_tool
